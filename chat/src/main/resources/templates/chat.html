<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link th:href="@{/css/styles.css}" rel="stylesheet" />
    <title>Chatroom</title>
</head>

<body>

    <div class="container">
        <div class="sidebar">
            <div class="user-rooms">
                <!-- 1. Chaträume des Benutzers -->
                <div class="chatroom-box">Chatraum 1</div>
                <div class="chatroom-box">Chatraum 2</div>
                <!-- Weitere Chaträume... -->

                <div class="add-room-btn" onclick="openRoomModal()">+</div>
            </div>

            <!-- 3. Benutzericon und Einstellungen -->
            <div class="user-settings" id="userIcon" onclick="openUserInfoModal()">
                <img th:src="@{/images/user-286-512.png}" alt="User Icon">
            </div>

            <!-- Logout-Button -->
            <button class="logout-btn" onclick="logout()">Logout</button>
        </div>

        <div class="chat-container" style="display: none">
            <div class="chat-header">
                <!-- Aktuell ausgewählter Chatraum -->
                <h2 id="chat-header-text">Chatraum 1</h2>
            </div>
            <div class="chat-messages">
                <!-- Chatnachrichten werden hier angezeigt -->
            </div>
            <div class="chat-input">
                <!-- Eingabefeld für den Chat -->
                <input type="text" placeholder="Nachricht eingeben...">
                <button class="send-btn">Senden</button>
            </div>
        </div>
    </div>

    <!-- Modal für Raum erstellen/beitreten -->
    <div id="roomModal" class="modal" onclick="closeRoomModal()">
        <div id="modalContent" class="modal-content">
            <button id="createRoomBtn">Einen neuen Raum erstellen</button>
            <button id="joinRoomBtn">Einem Raum beitreten</button>
        </div>
    </div>

    <!-- Ergänztes HTML-Code für das Chatraumerstellungs-Modal -->
    <div id="createRoomModal" class="modal">
        <div id="modalContent" class="modal-content">
            <h2>Chatraum erstellen</h2>
            <input type="text" id="chatNameInput" placeholder="Chatname">
            <input type="password" id="passwordInput" placeholder="Passwort (optional)">
            <button id="createChatBtn" onclick="addChat()">Chat erstellen</button>
        </div>
    </div>

    <!-- Ergänztes HTML-Code für das Chatbeitritts-Modal -->
    <div id="joinRoomModal" class="modal">
        <div id="modalContent" class="modal-content">
            <h2>Raum beitreten</h2>
            <input type="text" id="chatIdInput" placeholder="Chat-ID">
            <input type="password" id="chatIdPassword" placeholder="Chat-Passwort">
            <button id="joinChatBtn" onclick="joinChat()">Beitreten</button>
        </div>
    </div>

    <!-- Ergänztes HTML-Code für das Benutzerinfo-Modal -->
    <div id="userInfoModal" class="modal">
        <div id="modalContent" class="modal-content">
            <h2>Benutzerinformationen</h2>
            <p><strong>Vorname:</strong> <span id="firstNameSpan"></span></p>
            <p><strong>Nachname:</strong> <span id="lastNameSpan"></span></p>
            <p><strong>Emailadresse:</strong> <span id="emailSpan"></span></p>
            <button onclick="closeUserInfoModal()">Schließen</button>
        </div>
    </div>



    <!-- Skript mit der ausgelagerten logout()-Funktion -->
    <script type="text/javascript" th:src="@{/js/scripts.js}"></script>

</body>

</html>
